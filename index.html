<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Pok√©Scan v2 (C√≥digo)</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="wrap">
    <h2>üì∑ Pok√©Scan v2 (por c√≥digo)</h2>
    <p class="muted">
      Apunta a la parte <b>inferior</b> de la carta (donde sale algo como <b>DRI 104/182</b>) y pulsa <b>Escanear</b>.
    </p>

    <div class="card">
      <video id="video" playsinline autoplay muted></video>

      <canvas id="frame" class="hidden"></canvas>
      <canvas id="crop" class="preview hidden"></canvas>

      <div class="row">
        <button id="btnStart">Activar c√°mara</button>
        <button id="btnScan" disabled>Escanear</button>
        <button id="btnToggleCrop" disabled>Ver recorte</button>
        <span class="pill" id="status">Listo</span>
      </div>

      <div class="bar"><div id="prog"></div></div>
      <div class="muted" id="log"></div>

      <div class="hint">
        <div class="muted"><b>Tip:</b> baja un poco el brillo y evita reflejos. El c√≥digo de abajo es lo m√°s ‚Äúfijo‚Äù.</div>
      </div>

      <div class="grid2">
        <div>
          <div class="muted">Texto detectado:</div>
          <input id="rawBox" placeholder="(salida OCR)" />
        </div>
        <div>
          <div class="muted">C√≥digo encontrado:</div>
          <input id="codeBox" placeholder="Ej: DRI 104/182" />
        </div>
      </div>

      <div class="row">
        <button id="btnSearch" disabled>Buscar por c√≥digo</button>
      </div>
    </div>

    <div class="card">
      <div id="result" class="muted">Sin resultados a√∫n.</div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
